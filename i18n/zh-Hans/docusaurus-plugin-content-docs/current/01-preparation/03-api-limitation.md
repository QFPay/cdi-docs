import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# API 限制

## 总览
为了确保公平使用和保持平台的最佳性能，我们实施了 API 请求频率限制策略。该策略概述了 API 请求的频率限制，以及对违返限制规则的适当处理。

## 频率限制
- **限制**：每个商户允许的最大请求频率为 **每秒 100 次** 和 **每分钟 400次** 
- **超过限制的响应**：如果商户超过了这个限制，API 将返回一个 **HTTP 429 Too Many Requests** 状态码。

## 使用指南
为了帮助您充分利用我们的 API 且避免超出限制，请考虑以下最佳实践：

1. **批量请求**：如果适用，请使用批量处理来减少单个请求的数量。
2. **高效数据检索**：优化查询以减少请求的频率。利用过滤和分页来检索所必需的数据。
3. **缓存响应**：实施缓存策略以暂时存储响应并避免对相同数据的重复请求。
4. **监控使用情况**：跟踪您的 API 使用情况，确保您始终保持在限定范围内。实施日志记录以分析您的请求模式。

## 错误处理
在请求频率超过限制时，请遵循以下实践

1. **处理 HTTP 429 响应**：
   - 在您的应用程序中实施逻辑以优雅地处理 HTTP 429 响应：
     - 暂停一段时间（例如，几秒后重试）后再发送更多请求。
     - 记录错误以进行监控和警报。

2. **指数退避**：
   - 在收到 HTTP 429 响应后，请实施指数退避策略以逐渐增加重试之间的等待时间。

## 峰值流量管理
如果您预计流量会出现峰值，例如在促销活动期间，请提前联系我们的技术支持团队：

- **技术支持团队邮箱**: [technical.support@qfpay.com](mailto:technical.support@qfpay.com)

通过预先安排，我们可以在峰值时段帮助管理您的流量并确保服务不间断。
